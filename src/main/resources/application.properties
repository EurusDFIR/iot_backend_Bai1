# ==== Spring Boot IoT Backend Configuration ====
spring.application.name=iot-backend

# ==== Database Configuration (PostgreSQL) ====
# Default database settings - modify these for your environment
spring.datasource.url=jdbc:postgresql://localhost:5432/iotdb
spring.datasource.username=iotuser
spring.datasource.password=secret

# ==== JPA / Hibernate Settings ====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Initialize database with sample data
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true

# ==== Server ====
server.port=8080

# ==== Async and Scheduling Configuration ====
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=100
spring.task.scheduling.pool.size=5

# ==== Data Optimization Settings ====
app.archive.days-threshold=30
app.archive.delete-days-threshold=365
app.archive.max-archive-days=730
app.archive.batch-size=1000

# ==== Performance Optimization ====
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ==== Connection Pool Optimization ====
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=20000


# ==== MQTT Broker Configuration ====
# Default MQTT settings - modify these for your broker
mqtt.host=localhost
mqtt.port=1883
mqtt.username=
mqtt.password=
mqtt.clientId=iot-backend-${random.uuid}
mqtt.topicTemp=iot/demo/temp
mqtt.qos=1
mqtt.keepAlive=30